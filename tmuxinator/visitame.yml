# ~/.tmuxinator/visitame.yml

name: visitame
root: ~/Dev/7r/visitame
pre_window:
  - . ~/Dev/7r/visitame/set-vars.sh
windows:
 # Database
  - database:
      root: ~/Dev/7r/visitame/dev-database
      panes:
        - docker-compose up -d
  # Bmo
  - bmo:
      root: ~/Dev/7r/visitame/bmo-dev
      panes:
        - nvm use v10.17.0 && yarn && PORT=3000 yarn dev
  # Web Bot
  - botclient:
      root: ~/Dev/7r/visitame/bot-client-dev
      panes:
        - nvm use v9.4.0 && yarn && PORT=3002 yarn start
  - botserver:
      root: ~/Dev/7r/visitame/bot-server-dev
      panes:
        - nvm use v9.4.0 && yarn && PORT=3003 yarn dev
  #Admin
  - admin:
      root: ~/Dev/7r/visitame/admin-dev
      panes:
        - nvm use v10.13.0 && yarn && PORT=3004 yarn start
  # The Lich
  - thelich:
      root: ~/Dev/7r/visitame/the-lich-dev
      panes:
        - nvm use v10.13.0 && yarn && PORT=3005 yarn dev
  # Visitame web
  - visitameweb:
      root: ~/Dev/7r/visitame/website
      panes:
        - nvm use v10.13.0 && yarn && PORT=3006 yarn start
  # proxy
  - proxy:
      root: ~/Dev/7r/visitame/website-proxy
      panes:
        - nvm use v10.13.0 && yarn && PORT=3007 yarn dev
  # Keyper
  - keyper:
      root: ~/Dev/7r/visitame/key-per-dev
      panes:
        - nvm use v10.13.0 && yarn && PORT=3008 yarn start
  # Signup
  - signup:
      root: ~/Dev/7r/visitame/signup
      panes:
        - nvm use v10.13.0 && yarn && PORT=3009 yarn start
  # ngrok service
  - ngrok:
      root: ~/Dev/7r/visitame
      panes:
        - ngrok start -config ./ngrok.yml bmo cron botclient botserver admin thelich visitameweb proxy keyper signup
